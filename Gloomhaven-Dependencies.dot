digraph
{
	// Set up the Gloomhaven font Pirata One (Needs PirataOne-Gloomhaven.ttf installed from the Creator Pack)
	graph [fontname = "Pirata One", fontsize = 24, penwidth = 5, bgcolor="#DCCDC3:#B4A096" gradientangle="270"];
	node  [fontname = "Pirata One", fontsize = 24, penwidth = 5, style="rounded,filled" gradientangle="270"];
	edge  [fontname = "Pirata One", fontsize = 24, penwidth = 5];

	nodesep = 0.75;
	ranksep = 0.25;

	subgraph cluster_main
	{
		label = "Gloomhaven Scenarios";
		pencolor = transparent;

		// Scenario nodes
		{
			node [fillcolor="#111111:#777777" color="#333333" fontcolor="#BBBBBB"];
			 1 [label = "â˜‘ï¸  #1: Black Barrow"];
			 2 [label = "â˜‘ï¸  #2: Barrow Lair"];
			 3 [label = "â˜‘ï¸  #3: Inox Encampment"];
			 4 [label = "â˜‘ï¸  #4: Crypt of the Damned"];
			 5 [label = "â˜‘ï¸  #5: Ruinous Crypt"];
			 6 [label = "â˜‘ï¸  #6: Decaying Crypt"];
			 7 [label = "â˜‘ï¸  #7: Vibrant Grotto"];
			 8 [label = "â˜‘ï¸  #8: Gloomhaven Warehouse ðŸŒ‡"];
			13 [label = "â˜‘ï¸  #13: Temple of the Seer"];
			14 [label = "â˜‘ï¸  #14: Frozen Hollow"];
			19 [label = "â˜‘ï¸  #19: Forgotten Crypt"];
			20 [label = "â˜‘ï¸  #20: Necromancer's Sanctum"];
			52 [label = "â˜‘ï¸  #52: Noxious Cellar ðŸŒ‡"];
			53 [label = "â˜‘ï¸  #53: Crypt Basement"];
			54 [label = "â˜‘ï¸  #54: Palace of Ice"];
			65 [label = "â˜‘ï¸  #65: Sulfer Mine"];
			70 [label = "â˜‘ï¸  #70: Chained Isle ðŸŒ‡"];
		}

		{
			node [fillcolor="gray"];
			10 [label = "ðŸ”² #10: Plane of Elemental Power"];
			16 [label = "ðŸ”² #16: Mountain Pass"];
			17 [label = "ðŸ”² #17: Lost Island"];
			18 [label = "ðŸ”² #18: Abandoned Sewers ðŸŒ‡"];
			27 [label = "ðŸ”² #27: Ruinous Rift"];
			28 [label = "ðŸ”² #28: Outer Ritual Chamber"];
			93 [label = "ðŸ”² #93: Sunken Vessel ðŸŒ‡"];
		}

		{
			node [fillcolor="#550000:#AA3939" color="#801515" fontcolor="#D46A6A"];
			9 [label = "ðŸ”’ #9: Diamond Mine"];
		}

		{
			node [fillcolor="gray" color="#801515"];
			15 [label = "ðŸ”’ #15: Shrine of Strength"];
			24 [label = "ðŸ”’ #24"];
			29 [label = "ðŸ”’ #29"];
			31 [label = "ðŸ”’ #31"];
			43 [label = "ðŸ”’ #43"];
		}

		{
			// Achievement Nodes
			// Gold border
			node [shape = invhouse, color="#FFC500"];

			{
				node [fillcolor="#111111:#777777" fontcolor="#BBBBBB"];
				// Party achievement nodes
				party_first_steps           [label = "â˜‘ï¸  Party: First Steps"];
				party_jekserahs_plans       [label = "â˜‘ï¸  Party: Jekserahâ€™s Plans"];
				party_dark_bounty           [label = "â˜‘ï¸  Party: Dark Bounty"];
				party_stonebreakers_censer  [label = "â˜‘ï¸  Party: Stonebreaker's Censer"];
				party_map_to_treasure       [label = "â˜‘ï¸  Party: A Map to Treasure"];
			}

			// Global achievement nodes
			{
				node [fillcolor="#004400:#2D882D" fontcolor="#88CC88"];
				global_merchant_flees       [label = "âœ… Global: The Merchant Flees"];
				global_power_of_enhancement [label = "âœ… Global: The Power of Enhancement"];
			}
			{
				node [fillcolor="#550000:#AA3939" fontcolor="#D46A6A"];
				global_dead_inside          [label = "âŒ Global: The Dead Invade"];
				global_rift_neutralized     [label = "âŒ Global: The Rift Neutralized"];
				global_artifact_lost        [label = "âŒ Global: Artifact Lost"];
			}

			{
				node [fillcolor="#111111:#777777" fontcolor="#BBBBBB"];
				quest_seeker_of_xorn        [label = "ðŸ–‹ï¸ â€œSeeker of Xornâ€ personal quest"];
			}
		}

		{rank = source 1}
		// {rank = max 54 65 70 93}

		// Scenario unlocks
		                                1 -> {/* 2, */ party_first_steps};
		party_first_steps           ->  2 -> {3, 4};
		                                3 -> {8, 9, party_jekserahs_plans};
		                                4 -> {5, 6};
		                                5 -> {/* 10, */ 14, 19};
		                                6 -> {8, party_jekserahs_plans, party_dark_bounty};
		                                7 -> {20};
		party_jekserahs_plans       ->  8 -> {7, 13, 14};
		                               19 -> {27, party_stonebreakers_censer};
		                               20 -> {16, 18, 28};
		party_stonebreakers_censer  -> 27
		party_dark_bounty           -> 28
		quest_seeker_of_xorn        -> 52 -> {53}
		                               53 -> {54}
		party_map_to_treasure       -> 93

		subgraph OptionsChosen
		{
			edge [color = "#2D882D"   label = "chosen"];

		                               13 -> {17};
		}

		subgraph OptionsNotChosen
		{
			edge [color = "#D46A6A"   label = "not chosen" style = dashed, penwidth = 2];

		                               13 -> {15, 20};
		}

		// Global achievement requirements
		subgraph GlobalAchievements
		{
			// Incomplete at the time
			subgraph IncompleteGlobalAchievements
			{
				edge [color = "#D46A6A"   label = "âŒ" style = dashed, penwidth = 2];

				global_merchant_flees       ->  3;
				global_dead_inside          ->  8;
				global_rift_neutralized     -> 10;
				global_artifact_lost        -> 27;
			}

			subgraph BlockedGlobalAchievementUnlocks
			{
				edge [color = "red"   label = "âŒ", penwidth = 8];

				global_merchant_flees       ->  9;
			}

			subgraph BlockedGlobalAchievementRequirements
			{
				edge [label = "ðŸ”’" style = dashed];

				9                           -> global_dead_inside;
			}

			subgraph CompleteGlobalAchievements
			{
				edge [color = "#2D882D" label = "âœ…"];

				 8 -> global_merchant_flees       -> {7, 20};
				14 -> global_power_of_enhancement -> {7, 19, 31, 43};
			}
		}

		// Scenario links (physical connections)
		subgraph ScenarioLinks
		{
			edge [dir = none, color = "gray20:gray66:gray20", penwidth = 2];

			1 ->  2;
			5 -> 10;
			16 -> 24;
			28 -> 29;
		}
	}

	subgraph cluster_legend
	{
		label = "Legend";
		pencolor = black;

		linked     [label = "Linked to Gloomhaven ðŸŒ‡"];

		subgraph cluster_basic
		{
			pencolor = transparent;
			label = "";
			incomplete [fillcolor="gray" label = "ðŸ”² Incomplete"];
			completed  [fillcolor="#111111:#777777" color="#333333" fontcolor="#BBBBBB" label = "â˜‘ï¸  Completed"];
			blocked    [fillcolor="#550000:#AA3939" color="#801515" fontcolor="#D46A6A" label = "ðŸ”’ Blocked"];
			locked     [fillcolor="gray" color="#801515" label = "ðŸ”’ Locked"];
		}

		subgraph cluster_achievement
		{
			pencolor = transparent;
			label = "";
			node [shape = invhouse, color="#FFC500"];
			party_achievement [label = "â˜‘ï¸  Party Achievement", fillcolor="#111111:#777777" fontcolor="#BBBBBB"];
			global_complete   [label = "âœ… Global: Complete" fillcolor="#004400:#2D882D" fontcolor="#88CC88"];
			global_incomplete [label = "âŒ Global: Incomplete" fillcolor="#550000:#AA3939" fontcolor="#D46A6A"];
		}

		completed -> party_achievement [style = invis];

		linked1     [label = "Linked 1"];
		linked2     [label = "Linked 2"];
		linked1 -> linked2 [dir = none, color = "gray20:gray66:gray20", penwidth = 2];
	}

	{24, 29} -> completed [style = invis, weight = 0.1];
}

